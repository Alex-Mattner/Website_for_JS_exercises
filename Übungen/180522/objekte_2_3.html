<!doctype html>

<html>

<head>
	<meta charset="utf-8">
	
	<script>
		
		'use strict';
		
		class Film {
		
			constructor (titel, regie, laufzeit, jahr){
				
				this.titel = titel;
				this.regie = regie;
				this.laufzeit = laufzeit;
				this.jahr = jahr;
				
			}
			
			ausgabeDOM(){
				
				let neu = document.createElement ( 'div' );
				neu.classList.add ( 'film' );
				
				let neuHeader = document.createElement ( 'h3' );
				neuHeader.innerHTML = this.titel;
				neu.appendChild ( neuHeader );
			
				let neuRegie = document.createElement ( 'div' );
				neuRegie.classList.add ( 'regie' );
				neuRegie.innerHTML = this.regie;
				neu.appendChild ( neuRegie );
			
				let neuLaufzeit = document.createElement ( 'div' );
				neuLaufzeit.classList.add ( 'laufzeit' );
				neuLaufzeit.innerHTML = this.laufzeit;
				neu.appendChild ( neuLaufzeit );
			
				let neuJahr = document.createElement ( 'div' );
				neuJahr.classList.add ( 'jahr' );
				neuJahr.innerHTML = this.jahr;
				neu.appendChild ( neuJahr );
				
				return neu;
				
			}
			
			// Als Methode
			alter (){			
				return new Date().getFullYear() - this.jahr;				
			}
			
			// Als Getter
			get getAlter(){
				return new Date().getFullYear() - this.jahr;
			}
		
		}
			
		class Urlaubsfilm extends Film {
			
			constructor ( titel, regie, laufzeit, jahr, drehort, veranstalter ){
				super ( titel, regie, laufzeit, jahr );
				this.drehort = drehort;
				this.veranstalter = veranstalter;
			}
			
			ausgabeDOMUrlaub(){
				
				let neu = document.createElement ( 'div' );
				neu.classList.add ( 'film' );
				
				let neuHeader = document.createElement ( 'h3' );
				neuHeader.innerHTML = this.titel;
				neu.appendChild ( neuHeader );
			
				let neuRegie = document.createElement ( 'div' );
				neuRegie.classList.add ( 'regie' );
				neuRegie.innerHTML = this.regie;
				neu.appendChild ( neuRegie );
			
				let neuLaufzeit = document.createElement ( 'div' );
				neuLaufzeit.classList.add ( 'laufzeit' );
				neuLaufzeit.innerHTML = this.laufzeit;
				neu.appendChild ( neuLaufzeit );
			
				let neuJahr = document.createElement ( 'div' );
				neuJahr.classList.add ( 'jahr' );
				neuJahr.innerHTML = this.jahr;
				neu.appendChild ( neuJahr );
			
				let neuDrehort = document.createElement ( 'div' );
				neuDrehort.classList.add ( 'drehort' );
				neuDrehort.innerHTML = this.drehort;
				neu.appendChild ( neuDrehort );
			
				let neuVeranstalter = document.createElement ( 'div' );
				neuVeranstalter.classList.add ( 'veranstalter' );
				neuVeranstalter.innerHTML = this.veranstalter;
				neu.appendChild ( neuVeranstalter );
				
				return neu;
				
			}
			
		}

			
		let sammlung = [];
		let sammlungUrlaubsfilme = [];
		
		const laufzeitGes = dasArray => {
			
			/* Alternative 1
			let laufzeit = 0;
			dasArray.forEach ( el => laufzeit += el.laufzeit );
			*/
			
			// Alternative 2
			let laufzeit = dasArray.reduce ( (sum,el) => {
				if ( typeof sum == 'object' ) return sum.laufzeit + el.laufzeit;
				else return sum + el.laufzeit;
			});
			
			
			let neu = document.createElement ( 'div' );
			neu.classList.add ( 'laufzeitGesamt' );
			neu.innerHTML = laufzeit + ' Minuten';
			
			return neu;
			
			
		}
		
		
		
		
		
		sammlung.push ( new Film ( 'Deadpool', 'Tim Miller', 108, 2016 ));
		sammlung.push ( new Film ( 'Die Addams Family', 'Barry Sonnenfeld', 109, 1991 ));
		sammlung.push ( new Film ( 'The Day After', 'Nicholas Meyer', 127, 1983 ));
		sammlung.push ( new Film ( 'Dr. Strangelove', 'Stanley Kubrick', 95, 1964 ));
		sammlung.push ( new Film ( 'Der Herr der Ringe - Die Gefährten', 'Peter Jackson', 178, 2001 ));
		sammlung.push ( new Film ( 'Enter the Void', 'Gaspar Noé', 161, 2009 ));
		sammlung.push ( new Film ( 'Ghost in the Shell', 'Rupert Sanders', 107, 2017 ));
		
		
		
		
		sammlungUrlaubsfilme.push ( new Urlaubsfilm ( 
											'Urlaub in der Toskana', 
											'C. Heisch',
											24,
											2015,
											'Siena',
											'Individual'
		));
		sammlungUrlaubsfilme.push ( new Urlaubsfilm ( 
											'Feuer und Eis', 
											'C. Heisch',
											107,
											2016,
											'Island',
											'TUI'
		));
		
		window.onload = () => {
			
			let ausgabe = document.querySelector ( '#ausgabe' );
			
			/* Kinofilme ausgeben
			sammlung.forEach ( el => {
				ausgabe.appendChild ( el.ausgabeDOM() );
				console.log ( el.titel + ': ' + el.getAlter + ' Jahre' );
			});
			*/
			
			sammlungUrlaubsfilme.forEach ( el => {
				ausgabe.appendChild ( el.ausgabeDOMUrlaub() );
				console.log ( el.titel + ': ' + el.getAlter + ' Jahre' );
			});
			
			ausgabe.appendChild ( laufzeitGes(sammlungUrlaubsfilme) );
			
		}
		
	</script>
</head>

<body>

	<div id="ausgabe"></div>

</body>

</html>